# Getting Started

### Install

We start with the assumption that you have [Node.js](https://nodejs.org/en) installed and [npm](https://www.npmjs.com/) (node package manager).

You can install the Terra Draw into your project like so:

```shell
npm install terra-draw
```

Be aware Terra Draw is currently in alpha, the initial API is still being finalised. It is strongly advised to pin your installation to a specific version i.e. not using carat, asterix or tilde for versions but giving a version explicitly in your `package.json`

```
  "terra-draw": "0.0.1-alpha.22"
```

Once terra-draw is out of alpha this suggestion will be removed as we will aim to move to semantic versioning.

### API Docs

You can find the full autogenerated [API docs on the terra draw website](https://terradraw.io/#/api)

### Using Terra Draw

Here is some simple starter code for using Terra Draw with the popular open source mapping library Leaflet. It assumes you are going instantiate your map in a div with and id of `map`, which is assumed to exist within your HTML.

```typescript
// Import the leaflet mapping library
import * as L from "leaflet";

// Import Terra Draw, we will import the leaflet adapter, select mode and polygon mode
import {
	TerraDraw,
	TerraDrawLeafletAdapter,
	TerraDrawSelectMode,
	TerraDrawPolygonMode,
} from "terra-draw";

// Initialize a new Leaflet map, providing the id of the div to display the map
// Set the initial center (latitude, longitude) and the zoom level
const leafletMap = L.map("map", {
	center: [lat, lng],
	zoom: 4, // starting zoom,
	minZoom: 3,
	maxZoom: 20,
	tapTolerance: 10,
});

// Add a basemap from OpenStreetMap to the Leaflet map
L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
	maxZoom: 19,
	attribution:
		'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
}).addTo(leafletMap);

// Instantiate the TerraDraw API with a Leaflet adapter and custom modes
const draw = new TerraDraw({
	adapter: new TerraDrawLeafletAdapter({
		// The leaflet library object
		lib: leaflet,

		// The leaflet map object we created
		map: leafletMap,

		// The decimla precision of the coordinates created
		coordinatePrecision: 9,
	}),

	// Modes is an object containing all the modes we wish to
	// instantiate Terra Draw with
	modes: {
		select: new TerraDrawSelectMode({
			flags: {
				// Following flags determine what you can do in
				// select mode for features of a given mode - in this case polygon
				polygon: {
					feature: {
						scaleable: true,
						rotateable: true,
						draggable: true,
						coordinates: {
							midpoints: true,
							draggable: true,
							deletable: true,
						},
					},
				},
			},
		}),
		polygon: new TerraDrawPolygonMode({
			allowSelfIntersections: false,
			pointerDistance: 30,
		}),
	},
});

// Start drawing
draw.start();

// Set the mode to polygon
draw.setMode("polygon");
```

### Development Example

The [development folder features an example](https://github.com/JamesLMilner/terra-draw/tree/main/development) of using Terra Draw with all the adapters. It is meant for local development but can also be used as a guide of how to use Terra Draw with each adapter without any frame work.

### Full Example

The [Terra Draw official website](https://github.com/JamesLMilner/terra-draw-website) is open source acts as a full working implementation of how to use Terra Draw. In this case it is used with popular framework Preact (has very similar API to React).
